{
    "version": "https://jsonfeed.org/version/1",
    "title": "SnowRoll Blog • All posts by \"dockerß\" tag",
    "description": "分享经验，记录生活",
    "home_page_url": "https://snowroll.github.io",
    "items": [
        {
            "id": "https://snowroll.github.io/docker-timeout/",
            "url": "https://snowroll.github.io/docker-timeout/",
            "title": "dockerhub连接超时怎么办？",
            "date_published": "2024-10-30T02:00:00.000Z",
            "content_html": "<h2 id=\"检查dns配置\"><a class=\"markdownIt-Anchor\" href=\"#检查dns配置\">#</a> <strong>检查 DNS 配置</strong></h2>\n<p>修改 <code>/etc/resolv.conf</code> ，添加下面内容</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nameserver 8.8.4.4</span><br><span class=\"line\">nameserver 8.8.8.8</span><br></pre></td></tr></table></figure>\n<h2 id=\"配置代理\"><a class=\"markdownIt-Anchor\" href=\"#配置代理\">#</a> <strong>配置代理</strong></h2>\n<p>科学上网，我使用的 clash，其监听的端口为 7890，修改 http 和 https 代理</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 临时修改，在命令行中添加如下内容</span></span><br><span class=\"line\">echo HTTP_PROXY=http://127.0.0.1:7890  # clash代理端口</span><br><span class=\"line\">echo HTTPS_PROXY=http://127.0.0.1:7890</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 配置socks5</span></span><br><span class=\"line\">export ALL_PROXY=socks5://127.0.0.1:7891</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 测试代理能否访问docker源</span></span><br><span class=\"line\">curl -x http://127.0.0.1:7890 https://registry-1.docker.io/v2</span><br></pre></td></tr></table></figure>\n<h2 id=\"替换镜像源\"><a class=\"markdownIt-Anchor\" href=\"#替换镜像源\">#</a> <strong>替换镜像源</strong></h2>\n<p>由于国内政策影响，目前大部分镜像源处于不可用状态，自行寻找合适镜像源</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/docker/daemon.json</span><br></pre></td></tr></table></figure>\n<p>添加下面内容，只做示例。目前两个镜像均无法使用</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">     &quot;registry-mirrors&quot;: [</span><br><span class=\"line\">    \t&quot;https://hub-mirror.c.163.com&quot;,</span><br><span class=\"line\">    \t&quot;https://mirror.baidubce.com&quot;</span><br><span class=\"line\">  \t]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>重启 docker 服务</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl daemon-reload</span><br><span class=\"line\">sudo systemctl restart</span><br></pre></td></tr></table></figure>\n<h2 id=\"手动拉取镜像\"><a class=\"markdownIt-Anchor\" href=\"#手动拉取镜像\">#</a> 手动拉取镜像</h2>\n<p>在能访问 dockhub 的电脑中拉取镜像</p>\n<ol>\n<li>\n<p>dockerhub 网站搜索镜像  <span class=\"exturl\" data-url=\"aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS8lRUYlQkMlOEMlRTQlQkUlOEIlRTUlQTYlODI=\">https://hub.docker.com/，例如</span> ubuntu:latest</p>\n</li>\n<li>\n<p>手动拉取</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull ubuntu:latest</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>保存镜像为.tar 文件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker save -o ubuntu_latest.tar ubuntu:latest</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>将.tar 文件上传服务器</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp ubuntu_latest.tar user@your_server_ip:/path/to/destination</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>服务器中加载镜像</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker load -i /path/to/destination/ubuntu_latest.tar</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p><strong>TODO</strong></p>\n<p>这几个方法目前并不能完全解决这个问题，持续记录新的解决方法</p>\n",
            "tags": [
                "dockerß"
            ]
        }
    ]
}